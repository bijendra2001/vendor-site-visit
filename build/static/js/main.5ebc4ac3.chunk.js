(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a(67)},55:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(12),r=a.n(o),c=(a(55),a(7)),i=a(14),m=a(5),u=a(19),s=a(45),d=7;var p=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(!1),m=Object(i.a)(c,2),u=m[0],p=m[1];return l.a.createElement("div",null,l.a.createElement("input",{id:"fileUpload",type:"file",multiple:!0,accept:"image/jpg, image/png, image/jpeg",onChange:function(t){!function(t){var a=Object(s.a)(o),n=!1;t.some(function(e){if(-1===a.findIndex(function(t){return t.name===e.name})&&(a.push(e),a.length===d&&p(!0),a.length>d))return alert("You can only add ".concat(d," files")),p(!1),n=!0,!0}),n||(r(a),e.onSubmit(a))}(Array.prototype.slice.call(t.target.files))},disabled:u}),l.a.createElement("div",{className:"uploaded-files-list"},o.map(function(e){return l.a.createElement("div",null,e.name)})))},E=a(38),f="http://13.234.115.250:8080",g=new E.a({url:"".concat("https://qa-videokyc-auth.rubixds.com/auth/"),issuer:"".concat("https://qa-videokyc-auth.rubixds.com/auth/realms/vendor-site-visit"),realm:"vendor-site-visit",clientId:"vendor_site_visit_client"}),h=localStorage.getItem("bearer-token",g.token),O={initKeycloak:function(){g.init({onLoad:"login-required",flow:"implicit",pkceMethod:"S256"}).then(function(e){e||window.location.reload(),localStorage.setItem("bearer-token",g.token),localStorage.setItem("login",g.login),localStorage.setItem("refresh-token",g.refreshToken),localStorage.setItem("token-parsed",g.tokenParsed.exp),localStorage.setItem("time-skew",g.timeSkew)})},updateToken:function(){g.updateToken(60).then(function(e){e?console.debug("Token refreshed"+e):console.warn("Token not refreshed, valid for "+Math.round(g.tokenParsed.exp+g.timeSkew-(new Date).getTime()/1e3)+" seconds")})},isLoggedIn:!!h,token:h},b="Rubix",v="GET",y="POST",j="DESC",S="photographs",N="SiteVisitforTATAAIG",k={"Content-Type":"multipart/form-data"},T={Accept:"application/json","Content-Type":"application/octet-stream",Authorization:"Bearer ".concat(O.token)},C={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(O.token)},x={"Content-Type":"application/json",Authorization:"Bearer ".concat(O.token)},P=function(){Object(n.useEffect)(function(){document.title=b},[]);var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)([]),s=Object(i.a)(r,2),d=s[0],E=s[1],g=function(e,t){for(var a=new FormData,n=0;n<t.capturedImages.length;n++)a.append("capturedImages",t.capturedImages[n]);return a.append("siteData",new Blob([JSON.stringify(e)],{type:"application/json"})),Object(u.a)({method:y,url:"".concat(f,"/vendor/form"),data:a,headers:k,credential:!0}).then(function(e){200===e.status&&(E([]),o({}),alert("Submited !!"),window.location.reload())}).catch(function(e){return console.log(e)})};return l.a.createElement("div",{className:"p-2 mt-3"},l.a.createElement(m.h,{onSubmit:function(e){g(a,d),e.preventDefault()}},l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"entityName"},"Entity Name"),l.a.createElement(m.j,{id:"entityName",name:"entityName",placeholder:"Enter Entity Name",type:"text",onChange:function(e){o(Object(c.a)({},a,{entityName:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"addressVisited"},"Address Visited"),l.a.createElement(m.j,{id:"addressVisited",name:"addressVisited",placeholder:"Enter Address Visited",type:"text",onChange:function(e){o(Object(c.a)({},a,{address:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"govtIdProofNo"},"PAN/CIN/GST"),l.a.createElement(m.j,{id:"govtIdProofNo",name:"govtIdProofNo",placeholder:"Enter PAN/CIN/GST",type:"text",onChange:function(e){o(Object(c.a)({},a,{govtIdProofNo:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"typeOfLocation"},"Type of Location "),l.a.createElement(m.j,{id:"typeOfLocation",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{locType:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Residential"),l.a.createElement("option",null,"Commercial"),l.a.createElement("option",null,"Industrial"),l.a.createElement("option",null,"Rural"),l.a.createElement("option",null,"Residential Cum Commercial"))),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"typeOfLocationOfTheAddressVisited"}," Type of Location of the Address Visited "),l.a.createElement(m.j,{id:"typeOfLocationOfTheAddressVisited",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{locTypeVisited:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Residential"),l.a.createElement("option",null,"Commercial"),l.a.createElement("option",null,"Industrial"),l.a.createElement("option",null,"Rural"))),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"kindOfBuilding"}," Kind of Building "),l.a.createElement(m.j,{id:"kindOfBuilding",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{kindOfBuilding:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Permanent"),l.a.createElement("option",null,"Temporary"),l.a.createElement("option",null,"Hutment"))),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"numberOfFloors"},"Number of Floors"),l.a.createElement(m.j,{id:"numberOfFloors",name:"numberOfFloors",placeholder:"Enter Number of Floors",type:"text",onChange:function(e){o(Object(c.a)({},a,{noOfFloors:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"standardizedNumberOfFloors"}," Standardized Number of Floors "),l.a.createElement(m.j,{id:"standardizedNumberOfFloors",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{standardizeNoOfFloors:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Single Storey"),l.a.createElement("option",null,"Multi Floors"),l.a.createElement("option",null,"Not Ascertained"))),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"sizeOfPremises"},"Size of Premises"),l.a.createElement(m.j,{id:"sizeOfPremises",name:"sizeOfPremises",placeholder:"Enter Size of Premises",type:"text",onChange:function(e){o(Object(c.a)({},a,{sizeOfPremises:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"standardizedSizeOfPremises"}," Standardized Size of Premises "),l.a.createElement(m.j,{id:"standardizedSizeOfPremises",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{standardizeSizeOfPremises:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Less Than 250 Square feet"),l.a.createElement("option",null,"250 To 500 Square Feet"),l.a.createElement("option",null,"500 To 1000 Square Feet"),l.a.createElement("option",null,"1000 To 5000 Square Feet"),l.a.createElement("option",null,"5000 Square Feet And Above"),l.a.createElement("option",null,"Not Ascertained"))),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"ownershipOfPremises"}," Ownership of Premises "),l.a.createElement(m.j,{id:"ownershipOfPremises",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{ownershipOfPremises:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Owned"),l.a.createElement("option",null,"Rented/ Leased"),l.a.createElement("option",null,"Not Ascertained"))),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"numberOfEmployeesNoticed"}," Number of Employees noticed "),l.a.createElement(m.j,{id:"numberOfEmployeesNoticed",name:"select",placeholder:"Enter Number of Employees noticed",type:"text",onChange:function(e){o(Object(c.a)({},a,{noOfEmployeesNoticed:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"numberOfEmployeesNoticed"}," Standardized Number of Employees noticed "),l.a.createElement(m.j,{id:"numberOfEmployeesNoticed",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{standardizedNoOfEmployeesNoticed:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Less Than 25"),l.a.createElement("option",null,"25 To 100"),l.a.createElement("option",null,"100 To 500"),l.a.createElement("option",null,"Above 500"),l.a.createElement("option",null,"Not Ascertained"))),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"nameBoardNoticed"}," Name Board Noticed "),l.a.createElement(m.j,{id:"nameBoardNoticed",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{nameBoardNoticed:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Yes"),l.a.createElement("option",null,"No"))),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"otherComments"}," Other Comments"),l.a.createElement(m.j,{id:"otherComments",name:"text",type:"textarea",onChange:function(e){o(Object(c.a)({},a,{otherComments:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"exampleDate"},"Date"),l.a.createElement(m.j,{id:"dateOnSiteVisit",name:"date",placeholder:"date placeholder",type:"date",onChange:function(e){o(Object(c.a)({},a,{dateOnSiteVisit:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"nameOfPeopleMetDuringVisit"},"Name of People met during Visit"),l.a.createElement(m.j,{id:"nameOfPeopleMetDuringVisit",name:"nameOfPeopleMetDuringVisit",placeholder:"Enter Name of People met during Visit",type:"text",onChange:function(e){o(Object(c.a)({},a,{nameOfPeopleMetWhileVisit:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"commentsOfPeopleMetDuringVisit"}," Comments of People met during Visit"),l.a.createElement(m.j,{id:"commentsOfPeopleMetDuringVisit",name:"text",type:"textarea",onChange:function(e){o(Object(c.a)({},a,{commentOfPeopleMetWhileVisit:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"nameOfFieldExecutive"},"Name of Field Executive"),l.a.createElement(m.j,{id:"nameOfFieldExecutive",name:"nameOfFieldExecutive",placeholder:"Enter Name of Field Executive",type:"text",onChange:function(e){o(Object(c.a)({},a,{nameOfFieldExecutive:e.target.value}))}})),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"exampleSelect"}," Rubix Comments "),l.a.createElement(m.j,{id:"exampleSelect",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{rubixComments:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Positive"),l.a.createElement("option",null,"Negative"))),l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"reasonsForNegativeReport"},"Reasons for Negative Report"),l.a.createElement(m.j,{id:"reasonsForNegativeReport",name:"select",type:"select",onChange:function(e){o(Object(c.a)({},a,{resonForNegativeReport:e.target.value}))}},l.a.createElement("option",null,"Select"),l.a.createElement("option",null,"Address Changed"),l.a.createElement("option",null,"Entity Not Found"),l.a.createElement("option",null,"Incomplete Address"),l.a.createElement("option",null,"Location Not Traceable"),l.a.createElement("option",null,"Not Applicable"))),l.a.createElement(p,{onSubmit:function(e){E(Object(c.a)({},d,{capturedImages:e}))}}),l.a.createElement(m.g,{className:"text-center"},l.a.createElement(m.a,{type:"submit",className:"primary"},"Submit"))))};var I=function(){return l.a.createElement("div",null,l.a.createElement(m.p,null,l.a.createElement(m.f,{md:3}),l.a.createElement(m.f,{md:6,className:"bg-info text-center"},l.a.createElement("h1",null,"Rubix Data Science")),l.a.createElement(m.f,{md:3})),l.a.createElement(m.p,null,l.a.createElement(m.f,{md:3}),l.a.createElement(m.f,{md:6,className:"bg-light"},l.a.createElement(P,null)),l.a.createElement(m.f,{md:3})))},A=a(2),V=a(42),w=a.n(V),F=function(e){var t=e.templateData,a=!0,n=function e(n){var l=[];return l.push(n),Object(u.a)({method:v,url:"".concat(f,"/analyst/download/template/").concat(l),headers:T,responseType:"arraybuffer",credential:!0}).then(function(n){var o=new Blob([n.data],{type:"application/octet-stream"});w.a.saveAs(o,l),200===n.status&&!0===a&&(e(t.siteVisitImageExcelTemplateUrl),a=!1)}).catch(function(e){alert(e.message)})};return l.a.createElement("div",null,l.a.createElement(m.a,{color:"primary",download:"true",onClick:function(){n(t.siteVisitExcelTemplateUrl)}},"Download"))};var z=function(e){Object(n.useEffect)(function(){r(function(t){return Object(c.a)({},t,{predefineTemplateFileName:e.templatedata.siteVisitImageExcelTemplateUrl})}),r(function(t){return Object(c.a)({},t,{dataTemplateFileName:e.templatedata.siteVisitExcelTemplateUrl})}),r(function(e){return Object(c.a)({},e,{predefineSectionTemplate:S})}),r(function(e){return Object(c.a)({},e,{dataSectionTemplate:N})})},[]);var t=Object(n.useState)({}),a=Object(i.a)(t,2),o=a[0],r=a[1],s=Object(n.useState)(!1),d=Object(i.a)(s,2),p=d[0],E=d[1],g=function(){E(!p)};return l.a.createElement("div",null,l.a.createElement(m.a,{color:"success",onClick:g},"Share"),l.a.createElement(m.l,Object.assign({isOpen:p,toggle:g},e),l.a.createElement(m.o,{toggle:g},"Share Template on ARMS"),l.a.createElement(m.m,null,l.a.createElement("div",null,l.a.createElement(m.p,null,l.a.createElement(m.f,null,l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"csaeId"},"Case Id"),l.a.createElement(m.j,{id:"caseId",name:"caseId",placeholder:"Enter Case Id",type:"text",onChange:function(e){r(Object(c.a)({},o,{caseId:e.target.value}))}})))),l.a.createElement(m.p,{xs:"2"},l.a.createElement(m.f,null,l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"predefineSectionTemplate"},"Predefined Type Tag Name"),l.a.createElement(m.j,{id:"predefineSectionTemplate",name:"predefineSectionTemplate",type:"text",value:o.predefineSectionTemplate,defaultValue:"photographs",onChange:function(e){r(Object(c.a)({},o,{predefineSectionTemplate:e.target.value}))}}))),l.a.createElement(m.f,null,l.a.createElement(m.i,null,l.a.createElement(m.k,{for:"dataSectionTemplate"},"Data Type Tag Name"),l.a.createElement(m.j,{id:"dataSectionTemplate",name:"dataSectionTemplate",type:"text",value:o.dataSectionTemplate,defaultValue:"SiteVisitforTATAAIG",onChange:function(e){r(Object(c.a)({},o,{dataSectionTemplate:e.target.value}))}})))))),l.a.createElement(m.n,null,l.a.createElement(m.a,{color:"primary",onClick:function(){var e=new FormData;return e.append("surveyData",new Blob([JSON.stringify(o)],{type:"application/json"})),Object(u.a)({method:y,url:"".concat(f,"/survey/submit"),data:e,headers:C,credential:!0}).then(function(e){200===e.status&&g()}).catch(function(e){alert(e.message)})}},"Upload To ARMS"),l.a.createElement(m.a,{color:"secondary",onClick:g},"Cancel"))))};var D=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)([]),c=Object(i.a)(r,2),s=c[0],d=c[1];Object(n.useEffect)(function(){document.title=b,E(p),g(a)},[]),Object(n.useEffect)(function(){null===a&&E(p),g(a)},[a]);var p={pageNumber:0,pageSize:1e4,sortfield:"dataOnSubmit",sortDirection:j},E=function e(t){return Object(u.a)({method:v,url:"".concat(f,"/analyst/fetch/").concat(t.pageNumber,"/").concat(t.pageSize,"/sort/").concat(t.sortfield,"/").concat(t.sortDirection),headers:x,credential:!0}).then(function(e){var t=e.data;o(t)}).catch(function(t){401===t.status&&e()})},g=function(e){if(0!==Object.keys(e).length){var t=e.recordList;d(t)}};return l.a.createElement("div",null,l.a.createElement(m.b,null,l.a.createElement(m.d,null,"Rubix Data Science"),l.a.createElement(m.c,null,l.a.createElement(m.e,{tag:"h5"},"Site Visit Servey List"),l.a.createElement(m.q,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Entity Name"),l.a.createElement("th",null,"Address Visited"),l.a.createElement("th",null,"PAN/CIN/GST"),l.a.createElement("th",null,"Site Visit Date"),l.a.createElement("th",null,"Share"),l.a.createElement("th",null,"Download"))),l.a.createElement("tbody",null,s.map(function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.entityName),l.a.createElement("td",null,e.address),l.a.createElement("td",null,e.govtIdProofNo),l.a.createElement("td",null,e.dateOnSiteVisit),l.a.createElement("td",null,l.a.createElement(z,{templatedata:e})),l.a.createElement("td",null,l.a.createElement(F,{templateData:e})))}))))))};var R=function(){return Object(n.useEffect)(function(){O.initKeycloak()},[]),l.a.createElement(D,null)};var B=function(){return l.a.createElement(A.c,null,l.a.createElement(A.a,{exact:!0,path:"/vendor",component:I}),l.a.createElement(A.a,{path:"/analyst",component:R}),l.a.createElement(A.a,{component:function(){return l.a.createElement("h1",null,"Opps page not found !!")}}))},L=(a(65),a(31));r.a.render(l.a.createElement(L.a,null,l.a.createElement(B,null)),document.getElementById("root"))}},[[48,2,1]]]);
//# sourceMappingURL=main.5ebc4ac3.chunk.js.map